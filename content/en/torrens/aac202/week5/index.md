---
title: "5. Modern texturing with PBR"
linkTitle: "5: PBR Texturing"
weight: "50"
description: >
  Learning about the current state of surfacing/texturing meshes for games.
---

## Assessment 2: Surfacing

**Final Submission: End of week 8.**

Not yet fully ready. What it'll involve is texturing a provided model, using Substance Painter, and exporting to a provided Unity scene/web viewer. 

**Week 7:** Progress will be submitted to a Blackboard thread for review.   
**Week 8:** Models, textures and screenshots will be submitted.

<a class="btn btn-lg btn-primary mr-3 mb-4" href="../assessments/#2-model-surfacing">Assessment 2</a>

## Download these examples!

<a class="btn btn-lg btn-primary mr-3 mb-4" href="https://laustu.sharepoint.com/:u:/r/sites/largefilecurriculum/AAC202/model-surfacing/week5_examples.7z?csf=1&web=1&e=CKXhDG" target="_blank">Download week5_examples.7z<i class="fas fa-arrow-alt-circle-right ml-2"></i></a>

## See PBR in action

Overwatch was one of my first games with this look, especially in a stylised way.
Current games all use it, yell out some games.

  - Meet Mat examples are up on sketchfab 
    - Collection: https://sketchfab.com/substance3D/collections/meetmat17
    ![](mat_collection.png)
    - individual: https://sketchfab.com/3d-models/meet-mat-2017-medicbot-v2-fc160f297c7c4587b09a7b5a47b1b52e


  - Other models
    - Substance staff picks: https://sketchfab.com/substance3D/collections/allegorithmic-staff-pick
    - https://sketchfab.com/3d-models/soliders-helmet-rock-band-4-8c3464c1855248b2bc6c3428b4e9988d
    - Adobe's profile page on sketchfab : https://sketchfab.com/substance3D 

## Diffuse, painted - most basic

Load up the dagger from week 5 examples and apply the texture to the colour channel of the material.

Before PBR, a shader used a diffuse texture (the ones you've made in ACR103) to give the impression that a mesh (a bunch of triangles) actually had a surface which, thanks to colour, could be mossy bricks, wood with nails in, maybe skin and armour and cloth all in a single triangle.  

To do this, it mapped pixels from the diffuse texture to the surface. It was up to the artist to give the impression light from an imagined sun or lamps or lava or whatever was bouncing off the surface and into our eyes, without which of course we wouldn't see it. The properties of the surface materials were suggested by painting in shadows, hilights, reflections etc. Some of the shadows and light might be generated by a renderer beforehand, then we'd add that to the texture and flatten it. 

## PBR with image based lighting

Look at [a meet mat example](https://sketchfab.com/3d-models/meet-mat-2017-medicbot-v2-fc160f297c7c4587b09a7b5a47b1b52e).
A shader uses many types of image map plus light sources and other things to

1. Give the same impression of a surface moss/wood etc on it via colour
2. Allow them to be seen by mapping a colour pixel from the albedo (colour map) onto the surface, but then..
3. It shades/paints the surface differently every frame based on the player's viewpoint and the position of lights, the sky/sun/surroundings (and more) to look like it's made of metal, rubber, skin etc and reflecting the world accordingly. 
  - This is the same process a texture painter was going through in their mind when painting diffuse textures and adding in lighting/reflections etc, but here it's calculated by the graphics card in real time in response to the world. 
  - It uses more textures than just the colour (albedo) to power all of this, because doing it in real time would be murder to the GPU (see RTX). There are textures holding a metalness score for every pixel in the colour map, and others with roughness scores, ambient occlusion (self-shadowing) scores, transluscency scores and lots of other possible information.

## What's Substance Painter like?

Big, for one thing.

After that it's like a mix of Maya navigation and Photoshop layer groups and kinda 3D coat thinking sometimes.

Open Manhole1.spp and let's see what a project looks like. What, roughly, does an artist do there to texture meshes?

{{< alert title="Painter GPU warning" color= "primary" >}}
Painter will ask you to change a few windows settings so the GPU can do longer tasks. 

*You can only do this if you're on your own computer. This lab machines won't allow you to make registry changes. If you're on a lab pc, just click continue.*

If you're on your own PC, click the URL in the popup dialogue for more info, and click the quit button in the Painter warning dialogue. You'll be creating or updating these entries in the Windows registry:
![registry tdr](registry_tdr.png)
{{< /alert >}}

#### Important shortcuts

Action | Shortcut
--------------------------- | -------
Tumble Camera | Alt-LMB drag (like Maya)
Pan Camera | Alt-MMB drag (Maya)
Zoom | Wheel or Alt-RMB drag (Maya)
Rotate environment lighting | Shift-RMB drag
See shortcuts in viewport | Hold a modifier (alt, shift, ctrl) for a while 
See material in 3D/2D viewports | m
See next baked map in use | b
See next channel of our layered materials | 

### Next file 
 
2. Mini Axe

### Please explain those maps and channels

Some pictures aren't representative, you don't look at them to see what something looks like. You look at them for information about something maybe. A graph is a bit like that. Closer:
* A fingerprint
* a qr code or bar code
* consider an fbi recruit's file with a reduced photocopy of a shot up target from their practise at the shooting range.
* a rubbing from a gravestone
* polarised view of stressed plastic?

### Baked?

Not every image is drawn. Some can use the properties of the subject and a physical or chemical process to capture them. Consider an xray or a grave stone rubbing. Baking maps is looking at a little area of a high poly mesh from the nearest vantage point on a low poly copy of the mesh and storing it in a pixel.

It's like putting scaffolding in front of a brick wall, covering it in post it notes, rubbing a crayon over all of them, then putting all those post its in a box (in order). You can go and stick them all up on your lounge wall or office wall and recreate the wall. Sorta.

A normal map is like a plaster cast of a bootprint, but manages to store the same 3 dimensional impression in a 2d picture. (It stores x y z info in r g b channels

Today we'll do the short version:

**Baked maps** are the info Painter has analyzed and stolen from a sweet high poly mesh and saved into images (think of these images as data files, not pictures for looking at). The surface shader uses the info about the high poly mesh to make it look like the low poly mesh still has all that extra detail.  

Smart materials use the high poly info in the images to put dirt and moss and pooled schmoo in the crevices, or to remove paint and put nicks and shine on bumps and edges etc.

![maps and channels](maps_channels.png)

## Homework

### Read the PBR Guide

Read through part 1 of The PBR Guide, [Light and Matter](https://academy.substance3d.com/courses/the-pbr-guide-part-1). You don't have to read deeply into all the technical details; focus on trying to gain a feel for the top level ideas about light bouncing imperfectly off surfaces - which are smooth/rough, metallic/not metallic, coloured -  and changing as it makes it's wonky way to your eyeball.

<a class="btn btn-lg btn-primary mr-3 mb-4" href="https://substance3d.adobe.com/tutorials/courses/the-pbr-guide-part-1" target="_blank">PBR pt.1, Light and Matter<i class="fas fa-arrow-alt-circle-right ml-2"></i></a>
### Watch and work through "Getting Started"

Adobe provide a short but in-depth, satisfying introduction to texturing a robot (*spiderbot*) in Painter. They provide the base model (look for *spiderbot.zip* below *Download object files* on the tutorial page) along with videos leading you through the steps. 

<a class="btn btn-lg btn-primary mr-3 mb-4" href="https://substance3d.adobe.com/tutorials/courses/Getting-Started-with-Substance-3D-Painter-2021/youtube--ZbmRsOnApk" target="_blank">Getting Started series on Adobe.com<i class="fas fa-arrow-alt-circle-right ml-2"></i></a>

{{< alert title="Working Along" color= "primary" >}}
They're only about 90 minutes total, so working along with them you should be able to complete or get close to completing the series in this week's 7 hours of personal work/research time you apply to AAC202 (as with all subjects).
{{< /alert >}}

![Getting started](substance_getting_started.png)
### More video resources

The episodes have also been added - along with other videos, including stylised texturing - to my [How to Substance Painter 2021 playlist](https://www.youtube.com/playlist?list=PLfWza-ietxywun4izsjHG6A69i-aLROK4) on Youtube.


