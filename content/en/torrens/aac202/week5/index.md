---
title: "9. Modern texturing with PBR"
linkTitle: "9: PBR Texturing"
weight: "90"
description: >
  Learning about the current state of surfacing/texturing meshes for games.
---

## Assessment 3: PBR Texturing

**Final Submission: End of week 12.**

Not yet fully ready. What it'll involve is texturing a provided model, using Substance Painter, and exporting to a provided Unity scene/web viewer. 

**Week 11:** Progress will be submitted to a Blackboard thread for review.   
**Week 12:** Models, textures and screenshots will be submitted.

<a class="btn btn-lg btn-primary mr-3 mb-4" href="../assessments/#assessment-3-pbr-texturing">Assessment 3</a>

## Download these examples!

<a class="btn btn-lg btn-primary mr-3 mb-4" href="https://laureateaus-my.sharepoint.com/:u:/g/personal/daniel_mcgillick_laureate_edu_au/EQSgGyMiDvJNtHQDgXoeDY4BrjF73IEZutuCpVnQG9Gsig?e=GZnOwF" target="_blank">Download week9_examples.7z<i class="fas fa-arrow-alt-circle-right ml-2"></i></a>

## See PBR in action

Overwatch was one of my first games with this look, especially in a stylised way.
Current games all use it, yell out some games.

  - Meet Mat examples are up on sketchfab 
    - Collection: https://sketchfab.com/substance3D/collections/meetmat17
    ![](mat_collection.png)
    - individual: https://sketchfab.com/3d-models/meet-mat-2017-medicbot-v2-fc160f297c7c4587b09a7b5a47b1b52e


  - Other models
    - Substance staff picks: https://sketchfab.com/substance3D/collections/allegorithmic-staff-pick
    - https://sketchfab.com/3d-models/soliders-helmet-rock-band-4-8c3464c1855248b2bc6c3428b4e9988d
    - Adobe's profile page on sketchfab : https://sketchfab.com/substance3D 

## Diffuse, painted - most basic

Load up the dagger from week9 examples and apply the texture to the colour channel of the material.

Before PBR, a shader used a diffuse texture (the ones you've made in ACR103) to give the impression that a mesh (a bunch of triangles) actually had a surface which, thanks to colour, could be mossy bricks, wood with nails in, maybe skin and armour and cloth all in a single triangle.  

To do this, it mapped pixels from the diffuse texture to the surface. It was up to the artist to give the impression light from an imagined sun or lamps or lava or whatever was bouncing off the surface and into our eyes, without which of course we wouldn't see it. The properties of the surface materials were suggested by painting in shadows, hilights, reflections etc. Some of the shadows and light might be generated by a renderer beforehand, then we'd add that to the texture and flatten it. 

## PBR with image based lighting

Look at [a meet mat example](https://sketchfab.com/3d-models/meet-mat-2017-medicbot-v2-fc160f297c7c4587b09a7b5a47b1b52e).
A shader uses many types of image map plus light sources and other things to

1. Give the same impression of a surface moss/wood etc on it via colour
2. Allow them to be seen by mapping a colour pixel from the albedo (colour map) onto the surface, but then..
3. It shades/paints the surface differently every frame based on the player's viewpoint and the position of lights, the sky/sun/surroundings (and more) to look like it's made of metal, rubber, skin etc and reflecting the world accordingly. 
  - This is the same process a texture painter was going through in their mind when painting diffuse textures and adding in lighting/reflections etc, but here it's calculated by the graphics card in real time in response to the world. 
  - It uses more textures than just the colour (albedo) to power all of this, because doing it in real time would be murder to the GPU (see RTX). There are textures holding a metalness score for every pixel in the colour map, and others with roughness scores, ambient occlusion (self-shadowing) scores, transluscency scores and lots of other possible information.

## What's Substance Painter like?

Big, for one thing.

After that it's like a mix of Maya navigation and Photoshop layer groups and kinda 3D coat thinking sometimes.

Open Manhole1.spp and let's see what a project looks like. What, roughly, does an artist do there to texture meshes?

{{< alert title="Painter GPU warning" color= "primary" >}}
Painter will ask you to change a few windows settings so the GPU can do longer tasks. 

*You can only do this if you're on your own computer. This lab machines won't allow you to make registry changes. If you're on a lab pc, just click continue.*

If you're on your own PC, click the URL in the popup dialogue for more info, and click the quit button in the Painter warning dialogue. You'll be creating or updating these entries in the Windows registry:
![registry tdr](registry_tdr.png)
{{< /alert >}}

#### Important shortcuts

Action | Shortcut
--------------------------- | -------
Tumble Camera | Alt-LMB drag (like Maya)
Pan Camera | Alt-MMB drag (Maya)
Zoom | Wheel or Alt-RMB drag (Maya)
Rotate environment lighting | Shift-RMB drag
See shortcuts in viewport | Hold a modifier (alt, shift, ctrl) for a while 
See material in 3D/2D viewports | m
See next baked map in use | b
See next channel of our layered materials | 

### Next file 
 
2. Mini Axe

### Please explain those maps and channels

Some pictures aren't representative, you don't look at them to see what something looks like. You look at them for information about something maybe. A graph is a bit like that. Closer:
* A fingerprint
* a qr code or bar code
* consider an fbi recruit's file with a reduced photocopy of a shot up target from their practise at the shooting range.
* a rubbing from a gravestone
* polarised view of stressed plastic?

### Baked?

Not every image is drawn. Some can use the properties of the subject and a physical or chemical process to capture them. Consider an xray or a grave stone rubbing. Baking maps is looking at a little area of a high poly mesh from the nearest vantage point on a low poly copy of the mesh and storing it in a pixel.

It's like putting scaffolding in front of a brick wall, covering it in post it notes, rubbing a crayon over all of them, then putting all those post its in a box (in order). You can go and stick them all up on your lounge wall or office wall and recreate the wall. Sorta.

A normal map is like a plaster cast of a bootprint, but manages to store the same 3 dimensional impression in a 2d picture. (It stores x y z info in r g b channels

Today we'll do the short version:

**Baked maps** are the info Painter has analyzed and stolen from a sweet high poly mesh and saved into images (think of these images as data files, not pictures for looking at). The surface shader uses the info about the high poly mesh to make it look like the low poly mesh still has all that extra detail.  

Smart materials use the high poly info in the images to put dirt and moss and pooled schmoo in the crevices, or to remove paint and put nicks and shine on bumps and edges etc.

![maps and channels](maps_channels.png)

## Homework

### Read PBR Guide part 1. 

You can visit the html version of part 1, or read it in the all-in-one PDF.

Guide parts | Format
---- | ----
[Part 1](https://academy.substance3d.com/courses/the-pbr-guide-part-1) - Light and matter | Online 
[Parts 1 and 2](https://academy-api.substance3d.com/courses/b6377358ad36c444f45e2deaa0626e65/attachments/2b57526e-4bf3-4fd6-ae88-e9a9313a35cc) - All in one | PDF download 

### Watch Part 1 of Getting Started

I've gathered a Youtube playlist of Adobe's free learning material. [How to Substance Painter 2021](https://www.youtube.com/playlist?list=PLfWza-ietxywun4izsjHG6A69i-aLROK4)  

![Getting started](substance_getting_started.png)

Watch [the intro and then part 1 of getting started](https://www.youtube.com/watch?v=-ZbmRsOnApk&list=PLfWza-ietxywun4izsjHG6A69i-aLROK4&index=1) and try some of the things you see there. Add some materials, mask some things. *(Haven't yet confirmed this can be done in 2019.3.3 with provided project files)* 

[How to Substance Painter 2021](https://www.youtube.com/playlist?list=PLfWza-ietxywun4izsjHG6A69i-aLROK4)  

You can grab the [spider bot project files too](https://academy-api.substance3d.com/courses/88047015-c97e-48e8-9654-be65ca7c9809/attachments/ac082bf7-d343-4e1a-afd5-3edd4b4af287) \(268mb\)  

If the 2021 version turns out too radically different to 2019.3.3 and you can't find things it shows in the interface (or figure out where they went), there is this playlist of the previous introduction vides from 2018: 

[How to Substance Painter 2018](https://www.youtube.com/watch?v=IGGQl9kVB1M&list=PLB0wXHrWAmCxt86Aof15KxHnimg5Iowf6&index=9)

There's other free learning material up on Substance Academy, and plenty of paid great guides to specific kinds of texturing on Gumroad, Flipped Normals.